Ubuntu16.04

1.换软件源

2.`apt-get update`

3.安装ssh `apt-get install ssh`

4.更改sshd的配置文件 `vi /etc/ssh/sshd_config`  第28, 52行 开启 yes

5.启动ssh服务 `service ssh start`

6.添加到开机自启动 `update-rc.d ssh enable`

Putty连接到Ubuntu

关闭53端口的服务 dnsmq (dns缓存)

先备份配置文件 /etc/NetworkManger/NetworkManger.conf

```
cd /etc/NetworkManger
sudo cp NetworkManger.conf NetworkManger.conf.bak
```

注释掉关键行

```
# dns=dnsmq
```

重启计算机

```
reboot
```

重新建立ssh连接

开始安装vulhub

1.安装docker

curl -s https://get.docker.com/ | sh   (不建议直接执行)

建议先下载存成 `.sh`文件再本地执行

添加可执行权限后执行安装docker

```
chmod +x installDocker.sh
./installDocker.sh
```

测试安装

```
docker 
docker -v
```

2.安装docker-compose(快速启动器)

```
apt install python-pip
更换pip源
pip install docker-compose
```

验证

```
docker-compose -v
```

3.下载源码

```
https://github.com/vulhub/vulhub.git
```

直接下载源码压缩包

```
unzip vulhub-master.zip
```

4.启动环境

cd到vulhub-master目录下

找到漏洞环境对应的目录

执行

sudo

```
docker-compose build

docker-compose up -d
```

从网络上拉取镜像到虚拟机本地, 再启动环境

5.测试完成删除环境

```
docker-compose down
```

