网络地址配置

IP地址 子网掩码  网关 DNS 

1. 确认系统的网卡信息和IP地址

   ```
   ip addr
   eth  0 第一个网卡 1 第二个网卡 ...
   lo 本地回环
   ```

2. Linux默认一直ping

   关闭NetworkManager

   ```
   service NetworkManager stop
   ```

   永久关闭NetworkManager

   ```
   chkconfig --level 345 NetworkManager off
   ```

VMware网卡-->高级  可以确定虚拟网卡的MAC地址

3. 配置网络地址

   ```
   ip addr add 192.168.0.100/24 dev eth0
   ip addr del 192.168.0.100/24 dev eth0  # 删除
   
   ip link set eth0 up  # state up
   
   ip route  # 查看路由表
   ip route add default via 192.168.0.1 dev eth0  # 配置默认网关
   
   nslookup www.baidu.com
   vim /etc/resolv.conf 
   nameserver 202.106.0.20  # 添加DNS地址
   ```



**通过配置文件配置网络地址**

eth0

192.168.1.254/24

eth1

172.16.1.254/24



/etc/sysconfig/network-scripts
vim ifcfg-eth0

```
DEVICE=eth0
TYPE=Ethernet
ONBOOT=yes  # 是否允许networkmanager服务管理该文件
BOOTPROTO=static  # 静态获取/DHCP
IPADDR=192.168.1.254
NETMASK=255.255.255.0
```

vim ifcfg-eth1

```
DEVICE=eth1
TYPE=Ethernet
ONBOOT=yes  # 是否允许networkmanager服务管理该文件
BOOTPROTO=static  # 静态获取/DHCP
IPADDR=172.16.1.254
NETMASK=255.255.255.0
```

重启NetworkManager

```
/etc/init.d/network restart
或者
service network restart
```



开启路由功能(内核功能)

```
vim /etc/sysctl.conf
# Controls IP packet forwarding
net.ipv4.ip_forward = 1

sysctl -p  # 刷新配置
```

查看

```
iptables -nL
```

关闭防火墙

```
setup
Firewall configuration
空格 tab enter
tab 退出
```

