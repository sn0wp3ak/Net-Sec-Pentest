web服务

http

lamp平台 Linux Apache MySQL PHP

对外服务 

ip地址 端口号

1. 启动服务

   ```
   service httpd start
   ```

2. 验证

   ```
   ss -antpl | grep 80
   ```

3. 主页建立

   /var/www/html  # 默认主页存放路径

   vim index.html

4. 主配置文件分析

   /etc/httpd/conf/httpd.conf

   关闭共享

   ```
   #    Options Indexs FollowSymLinks
        Options FollowSymLinks
   ```

   重启服务

   ```
   service httpd restart
   ```

   

**访问控制设定**

/etc/httpd/conf/httpd.conf

```
Order allow.deny
Allow from all
```

1. 仅允许192.168.1.2主机访问主页

   ```
   Order allow,deny     # 白名单
   Allow from 192.168.1.2
   Allow from 192.168.1.  # 网段
   
   Order deny,allow  # 黑名单
   Deny from 192.168.1.2  
   Deny from 192.168.1.  # 网段
   ```

2. 对页面进行加密

   用户名 密码  (自己配置)

   ```
   htpasswd -c /etc/httpd/conf/httpuser tom
   >password:
   ```

   /etc/httpd/conf/httpd.conf

   ```
   authtype basic
   authname "please input username and password"
   authuserfile /etc/httpd/conf/httpuser
   require valid-user
   ```

   权限只能apache读

   ```
   chmod -r httpuser
   chmod -w httpuser
   chmod u+r httpuser
   chown apache httpuser
   ```

   重启http服务

   ````
   service httpd restart
   ````

   

   安装mysql

   yum install mysql0-server -y

   启动mysql

   service mysqld start

   mysqladmin -u root -p password "123456"

   

   安装php

   yum install php

   插件

   yum install php-mysql

   yum install php-mbstring

   配置php

   vim /etc/php.ini

   ```
   short_open_tag=on
   ```

   

   

