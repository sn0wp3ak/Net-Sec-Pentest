**权限:** 文件或目录属于哪个用户属于哪个组, 不同的用户能对该文件进行怎样的操作

```
             所属者 所属组 
-rw-r--r--. 1 root root 0 Oct  1 13:48 test.txt
          硬连接数
drwxr-xr-x. 2 root root 6 Oct  1 13:48 testdir/
        目录中的子目录个数  
        
-普通文件 d目录 l符号链接 b块设备
问价 r 读      w 写           x 执行
目录 r 查看内容 w 添加和删除文件 x 可以进入目录
第一个rwx   文件所属者对该文件的权限
第二个rwx   文件所属组对该文件的权限
第三个rwx   其他用户对该文件的权限
```

chmod 对象 算数运算符 权限 文件

```
对象: u g o a(all)
算数运算符 + - =
权限  r w x
```

chmod 数字位权 文件

```
0  000  ---
1  001  --x
2  010  -w-
3  011  -wx
4  100  r--
5  101  r-x
6  110  rw-
7  111  rwx
```

chown 用户 文件 `改变文件的所属者`

chgrp 组 文件 `改变文件的所属组`



**粘滞位  sgid suid 权限**

粘滞位针对目录进行赋权, 目录中创建者的文件只有创建者自己可以删除

 ```
chmod o+t 目录    t权限代表粘滞位
 ```

/tmp目录拥有粘滞位



sgid 针对目录建立的权限, 在该目录中建立的文件的所属组会继承父目录的所属组

```
chmod g+s 目录    
```



suid 针对可执行文件建立, 谁运行该文件就具有该文件所属者的权限

```
chmod u+s 可执行文件       文件变成红底白字 -rwsr-xr-x
```



查看PATH变量

```
echo $PATH
```



```
find /usr/bin -perm 4755      # 查找/usr/bin目录下权限为 -rwsr-xr-x的文件(suid)
```



不再允许添加新用户的请求

```
建立新用户的过程
/etc/group
/etc/passwd
/etc/shadow
/home/xxx
...
```

锁上创建文件自然就不能成功建立新用户

```
chattr +i /etc/passwd /etc/shadow    # 锁
lsattr /etc/passwd /etc/shadow
```



umask     027最佳

目录的最高权限 777

0777 - 0022 = 0755

文件的最高权限 666 (一般不可执行)

0666 - 0022 = 0644



/etc/profile

/etc/bashrc

```
UID > 199 UID=GID  ==> 002  (把002改成027)
```



修改用户密码最长有效时间

配置文件

/etc/login.defs

```
PASS_MAX_DAYS    9999  ==> 90
```

