# IP地址详解

局域网: 一般也叫内网

交换机: 组建局域网的设备

简单的局域网构成: 交换机 网线 PC  

家里头用的路由器---三层交换机(交换机和路由器的杂交)

IP地址

> 唯一标识, 网络编码, 二进制, 32位(4个8位二进制数 4 * 2 **8)
>
> 一般会把二进制转化为十进制方便使用
>
> IP地址的十进制表示也称 点分十进制
>
> X.X.X.X  X的范围0~255

子网掩码

> 局域网的通信规则: 在局域网的**同一个网段**中才能通信
>
> IP地址中**网络位相同**的IP在同一个网段
>
> 一般情况:
>
> 网络位:  IP地址的前三个部分
>
> 主机位: IP地址的最后一个部分
>
> 假设IP地址是A.B.C.D
>
> 那可能的情况: 
>
> 网络 A.B.C 主机 D
>
> 网络 A.B 主机 C.D
>
> 网络 A 主机 B.C.D
>
> 子网掩码: 用来确定IP地址的网络位
>
> 子网掩码如何确认网络位:  255对应网络位 0对应主机位
>
> 常见的子网掩码: 
>
> 255.0.0.0
>
> 255.255.0.0
>
> 255.255.255.0
>
> 子网掩码是从IP地址中剥离出来的功能性IP地址, 自己的IP不能设置成这3个子网掩码
>
> IP地址和子网掩码如影相随,同时存在

ISO定义的地址分类:

> 五大类A-E(以IP地址的第一位进行区分)
>
> A类: 1-126 默认子网掩码 255.0.0.0
>
> B类: 128-191 默认子网掩码 255.255.0.0
>
> C类: 192-223 默认子网掩码 255.255.255.0
>
> D类: 224-239 组播地址
>
> E类: 240-254 科研使用
>
> 不在5大类的: 0 127 255

网段地址

> 主机位全部置为0时, 此时的IP地址叫网段地址
>
> 例题1:
>
> IP 10.1.1.1 掩码255.255.255.0 问IP在哪个网段?
>
> 10.1.1.0  (网段名称)
>
> 所在网段有多少个可用的IP地址?
>
> 从1-254 一共254个可用 (0和255除外)
>
> 该网段的广播地址是什么?
>
> 10.1.1.255  (网段里的所有人)
>
> 例题2:
>
> IP 10.1.1.1 掩码 255.255.0.0 问IP在哪个网段?
>
> 10.1.0.0
>
> 该网段一共有多少个可用IP
>
> 65534  10.1.0.1~10.1.255.254  `2^8`*`2^8`-`2`
>
> 该网段的广播地址是什么?
>
> 10.1.255.255

全局广播地址:

> 255.255.255.255

主机位

> 不能全部为0, 也不能全部是255

网段名称

> 主机位全部置0

广播地址

> 主机位全部置255

网关

> 内网的出口 GateWay==GW
>
> 一般网关在路由器上
>
> 网关也是IP地址
>
> 一般是该网段的第一个或最后一个IP地址
>
> X.X.X.1  X.X.X.254

路由器

> 链接内外网的设备

127地址

> 127.0.0.1 本机回环地址

PC向外发数据包

> 1.先判断目标IP和自己是不是同一网段
>
> 2.如果和目标在同一个网段, 直接发出去, 不找网关
>
> 3.如果不在同一个网段, 则给网关发包

DNS服务器

> 公网
>
> 北京联通最通用的一台DNS服务器: 202.106.0.20

ping发包大小阈值

> bytes=65500

ping测试网络连通性

> ping 目标地址  # 4个包
>
> ping -t 目标地址 # 一直ping
>
> ping -n 数字 目标地址  # 修改ping包的数量
>
> ping -l 数字 目标地址  # 修改ping包的大小
>
> 注:ping不通, 可能不在线, 也可能开着防火墙

手工解析域名

> nslookup  域名

查看IP地址

> ipconfig         不带DNS
>
> ipconfig /all  带DNS

进制转换

> 位权 
>
> 第一位位权=1  第二位位权=进制数 第三位位权=进制数^2 ...
>
> 所有的进制转换成十进制 `Σ 位权 * 数字 `
>
> 例: 二进制数 1111  位权 8421 转换成十进制 8+4+2+1=15

DNS查找顺序

> 1.本地DNS缓存
>
> 2.本地hosts文件
>
> 3.找DNS服务器

IP地址--逻辑地址

MAC地址--物理地址--不能更改, 全球唯一

二进制转十六进制

> 每四位一分  各自转成十进制 再拼起来就是十六进制

# 基本DOS命令

定位到D盘：`d： `

创建文件夹 :  md 文件夹名称 

创建文档：

> 一行: echo 文件名.后缀  （输入内容后 CTRL+z 回车保存） 
>
> 多行: copy con 文件名.后缀  （输入内容后 CTRL+z 回车保存） 

定位到根目录：cd\ 

定位到某一个目录 : cd 路径 

查看当前路径的内容: dir 

清屏：cls 

查看文档内容：type 文件名.txt  （按tab键 会自动补全后缀名） 

要查看的文件内容太长: type 文件名 | more      用空格翻页

删除文件夹: rd

删除文件：del 文件名.拓展名 

del *.txt  ：删所有txt为后缀的文件 

del *.*  ：删除所有文件 

del *.* /s /q ：无提示删除所有文件 

隐藏文件或文件夹：attrib +h 文件名 

：attrib +h  +s +a 文件名 

h代表：隐藏  

s代表：提升为系统级别文件 

a代表：只读  

快速生成一个空文件:

> fsutil file createnew c:\system.ini 409600000 
>
> 生成文件   创建一个新的文件       路径及文件名    文件大小 

assoc修改关联性

> 例: assoc .txt=exefile  把记事本用exe文件的方式打开

shutdown

> shutdown -s -t 时间(秒)     定时关机
>
> shutdown -s -f -t 时间       定时强制关机
>
> shutdown -r -t  时间          定时重启
>
> shutdown -a 取消定时计划
>
> shutdown -l 注销，与logoff命令相同
>
> shutdown -s -f -t 时间 -c "提示字符串"